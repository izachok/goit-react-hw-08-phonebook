{"version":3,"sources":["redux/store.js","components/AuthNav/AuthNav.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","App.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-reducer.js","components/Loading/Loading.js","components/FormButton/FormButton.js","redux/contacts/contacts-reducer.js","redux/contacts/contacts-actions.js","components/FormButton/index.js","components/FormButton/FormButton.module.css","components/Loading/Loading.module.css","services/contacts-api.js","redux/contacts/contacts-operations.js"],"names":["authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","AuthNav","to","exact","UserMenu","userName","useSelector","authSelectors","getUsername","dispatch","useDispatch","FormButton","type","onClick","authOperations","logOut","AppBar","isLoggedIn","getIsLoggedIn","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","RegisterPage","lazy","LoginPage","ContactsPage","App","isLogging","getIsLogging","useEffect","checkCurrentUser","className","Loading","fallback","path","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","logIn","operations","_","thunkAPI","state","getState","persistedToken","rejectWithValue","get","message","user","name","createReducer","email","fulfilled","payload","pending","rejected","combineReducers","s","item","color","height","width","disabled","allyProps","button","items","fetchContacts","action","addContact","deleteContact","filter","id","actions","isLoading","error","changeFilter","createAction","module","exports","contact","contactId","delete","contactsAPI","result"],"mappings":"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","file":"static/js/main.0438f8a2.chunk.js","sourcesContent":["import {\n  FLUSH,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n  REHYDRATE,\n  persistReducer,\n  persistStore,\n} from 'redux-persist';\n\nimport { authReducer } from './auth';\nimport { configureStore } from '@reduxjs/toolkit';\nimport contactsReducer from './contacts/contacts-reducer';\nimport storage from 'redux-persist/lib/storage';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import { NavLink } from 'react-router-dom';\nimport React from 'react';\n\nexport default function AuthNav() {\n  return (\n    <>\n      <NavLink to=\"/register\" exact>\n        Register\n      </NavLink>\n      <NavLink to=\"/login\" exact>\n        Login\n      </NavLink>\n    </>\n  );\n}\n","import { authOperations, authSelectors } from '../../redux/auth';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport FormButton from 'components/FormButton';\nimport React from 'react';\n\nexport default function UserMenu() {\n  const userName = useSelector(authSelectors.getUsername);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      Hello, {userName}!\n      <FormButton\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Logout\n      </FormButton>\n    </div>\n  );\n}\n","import AuthNav from 'components/AuthNav';\nimport { NavLink } from 'react-router-dom';\nimport React from 'react';\nimport UserMenu from 'components/UserMenu';\nimport { authSelectors } from '../../redux/auth';\nimport { useSelector } from 'react-redux';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <header>\n      <h1>Phonebook</h1>\n      {isLoggedIn ? (\n        <>\n          <UserMenu />\n          <NavLink to=\"/contacts\">Contacts</NavLink>\n        </>\n      ) : (\n        <AuthNav />\n      )}\n    </header>\n  );\n}\n","import { Redirect, Route } from 'react-router-dom';\n\nimport React from 'react';\nimport { authSelectors } from '../../redux/auth';\nimport { useSelector } from 'react-redux';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { Redirect, Route } from 'react-router-dom';\n\nimport React from 'react';\nimport { authSelectors } from '../../redux/auth';\nimport { useSelector } from 'react-redux';\n\nexport default function PublicRoute({\n  children,\n  redirectTo = '/',\n  restricted = false,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n    <Route {...routeProps}>\n      {restricted && isLoggedIn ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import './App.css';\n\nimport { Redirect, Switch } from 'react-router-dom';\n// import RegisterPage from 'pages/RegisterPage';\nimport { Suspense, lazy, useEffect } from 'react';\nimport { authOperations, authSelectors } from './redux/auth';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport AppBar from 'components/AppBar';\n// import ContactsPage from 'pages/ContactsPage';\nimport Loading from 'components/Loading';\n// import LoginPage from 'pages/LoginPage';\nimport PrivateRoute from 'components/PrivateRoute';\nimport PublicRoute from 'components/PublicRoute';\n\nconst RegisterPage = lazy(() =>\n  import('pages/RegisterPage' /* webpackChunkName: \"register-page\" */),\n);\nconst LoginPage = lazy(() =>\n  import('pages/LoginPage' /* webpackChunkName: \"login-page\" */),\n);\nconst ContactsPage = lazy(() =>\n  import('pages/ContactsPage' /* webpackChunkName: \"contacts-page\" */),\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isLogging = useSelector(authSelectors.getIsLogging);\n\n  useEffect(() => {\n    dispatch(authOperations.checkCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      {isLogging ? (\n        <Loading />\n      ) : (\n        <>\n          <AppBar />\n          <Switch>\n            <Suspense fallback={<Loading />}>\n              <PrivateRoute path=\"/\" exact redirectTo=\"/login\">\n                <Redirect to=\"/contacts\" />\n              </PrivateRoute>\n              <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n                <LoginPage />\n              </PublicRoute>\n              <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n                <RegisterPage />\n              </PublicRoute>\n              <PrivateRoute path=\"/contacts\">\n                <ContactsPage />\n              </PrivateRoute>\n            </Suspense>\n          </Switch>\n        </>\n      )}\n    </div>\n  );\n}\n","import './index.css';\n\nimport { persistor, store } from './redux/store';\n\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  remove() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk('auth/register', async credentials => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    // TODO: Добавить обработку ошибки error.message\n  }\n});\n\nconst logIn = createAsyncThunk('auth/login', async credentials => {\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    // TODO: Добавить обработку ошибки error.message\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async () => {\n  try {\n    await axios.post('/users/logout');\n    token.remove();\n  } catch (error) {\n    // TODO: Добавить обработку ошибки error.message\n  }\n});\n\nconst checkCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return thunkAPI.rejectWithValue();\n    }\n\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      // TODO: Добавить обработку ошибки error.message\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  checkCurrentUser,\n};\nexport default operations;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUsername = state => state.auth.user.name;\n\nconst getIsLogging = state => state.auth.isLogging;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUsername,\n  getIsLogging,\n};\nexport default authSelectors;\n","import authOperations from './auth-operations';\nimport { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n\nconst user = createReducer(\n  { name: null, email: null },\n  {\n    [authOperations.register.fulfilled]: (state, { payload }) => ({\n      name: payload.user.name,\n      email: payload.user.email,\n    }),\n    [authOperations.logIn.fulfilled]: (state, { payload }) => ({\n      name: payload.user.name,\n      email: payload.user.email,\n    }),\n    [authOperations.logOut.fulfilled]: (state, { payload }) => ({\n      name: null,\n      email: null,\n    }),\n    [authOperations.checkCurrentUser.fulfilled]: (state, { payload }) => ({\n      name: payload.name,\n      email: payload.email,\n    }),\n  },\n);\n\nconst token = createReducer(null, {\n  [authOperations.register.fulfilled]: (state, { payload }) => payload.token,\n  [authOperations.logIn.fulfilled]: (state, { payload }) => payload.token,\n  [authOperations.logOut.fulfilled]: () => null,\n});\n\nconst isLoggedIn = createReducer(false, {\n  [authOperations.register.fulfilled]: () => true,\n  [authOperations.logIn.fulfilled]: () => true,\n  [authOperations.logOut.fulfilled]: () => false,\n  [authOperations.checkCurrentUser.fulfilled]: () => true,\n});\n\nconst isLogging = createReducer(false, {\n  [authOperations.checkCurrentUser.pending]: () => true,\n  [authOperations.checkCurrentUser.fulfilled]: () => false,\n  [authOperations.checkCurrentUser.rejected]: () => false,\n});\n\nexport default combineReducers({ user, token, isLoggedIn, isLogging });\n","import Loader from 'react-loader-spinner';\nimport React from 'react';\nimport s from './Loading.module.css';\n\nexport default function Loading() {\n  return (\n    <Loader\n      className={s.item}\n      type=\"Audio\"\n      color=\"#52ab98\"\n      height={50}\n      width={50}\n    />\n  );\n}\n","import React from 'react';\nimport s from './FormButton.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function FormButton({\n  type = 'button',\n  onClick,\n  disabled = false,\n  children,\n  ...allyProps\n}) {\n  return (\n    <button\n      type={type}\n      className={s.button}\n      disabled={disabled}\n      onClick={onClick}\n      {...allyProps}\n    >\n      {children}\n    </button>\n  );\n}\n\nFormButton.propTypes = {\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n    .isRequired,\n};\n","import * as actions from './contacts-actions';\n\nimport {\n  addContact,\n  deleteContact,\n  fetchContacts,\n} from './contacts-operations';\n\nimport { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n\nconst items = createReducer([], {\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\n  [deleteContact.fulfilled]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst filter = createReducer('', {\n  [actions.changeFilter]: (state, { payload }) => payload,\n});\n\nconst isLoading = createReducer(false, {\n  [fetchContacts.pending]: () => true,\n  [fetchContacts.fulfilled]: () => false,\n  [fetchContacts.rejected]: () => false,\n\n  [addContact.pending]: () => true,\n  [addContact.fulfilled]: () => false,\n  [addContact.rejected]: () => false,\n\n  [deleteContact.pending]: () => true,\n  [deleteContact.fulfilled]: () => false,\n  [deleteContact.rejected]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContacts.pending]: () => null,\n  [fetchContacts.rejected]: (_, action) => action.payload,\n\n  [addContact.pending]: () => null,\n  [addContact.rejected]: (_, action) => action.payload,\n\n  [deleteContact.pending]: () => null,\n  [deleteContact.rejected]: (_, action) => action.payload,\n});\n\nexport default combineReducers({ items, filter, isLoading, error });\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('contacts/changeFilter');\n","export { default } from './FormButton';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"FormButton_button__2-gNS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Loading_item__64Y4B\"};","import axios from 'axios';\n\nexport async function fetchContacts() {\n  const { data } = await axios.get(`/contacts`);\n  return data;\n}\n\nexport async function addContact(contact) {\n  const { data } = await axios.post('/contacts', contact);\n  return data;\n}\n\nexport async function deleteContact(contactId) {\n  const { data } = await axios.delete(`/contacts/${contactId}`);\n  return data;\n}\n","import * as contactsAPI from 'services/contacts-api';\n\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const fetchContacts = createAsyncThunk(\n  'contacts/fetchContacts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const contacts = await contactsAPI.fetchContacts();\n      return contacts;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const addContact = createAsyncThunk(\n  'contacts/addContact',\n  async (contact, { rejectWithValue }) => {\n    try {\n      const result = await contactsAPI.addContact(contact);\n      return result;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (contactId, { rejectWithValue }) => {\n    try {\n      await contactsAPI.deleteContact(contactId);\n      return contactId;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n"],"sourceRoot":""}